import { Genetic, People } from "./genetic";
import { TicTacToe, Player, StatusGame } from "./tictactoe";
import _ = require('underscore');
import { Stats } from "fs";

export class Evolution {
    genetic = new Genetic;
    ticTacToe = new TicTacToe;
    winners = [];
    generations = 0;

    async initialize() {
       let G1: [-0.006218027789145708,0.03545743227005005,-0.02255401946604252,-0.03518764302134514,-0.005136906169354916,0.007340446580201387,0.004083964042365551,-0.0004997554933652282,0.013407117687165737,0.023260295391082764,-0.016139183193445206,-0.000576578255277127,-0.04404811933636665,-0.01780664548277855,0.00020205497276037931,-0.010051543824374676,-0.033209532499313354,0.01185994129627943,0.025152752175927162,-0.004618128761649132,0.016102628782391548,0.008418497629463673,0.030879585072398186,-0.014598054811358452,0.01462021004408598,-0.015961699187755585,-0.002411568770185113,0.028011184185743332,-0.046648792922496796,0.04224072024226189,-0.03558511286973953,0.012833133339881897,0.02085823565721512,-0.02380288764834404,0.013895880430936813,0.0365818552672863,-0.03706859052181244,0.004312663804739714,0.008110521361231804,0.01450223196297884,-0.01608334295451641,0.026680734008550644,0.035121262073516846,0.004491675179451704,0.0014040716923773289,-0.01912989467382431,-0.04149662330746651,0.04589471220970154,-0.04205607250332832,-0.02116415835916996,0.02726500667631626,0.014473979361355305,0.0029674109537154436,-0.03707458823919296,0.0000420085561927408,-0.03243447467684746,-0.0036011566407978535,0.0005832898314110935,0.004916804376989603,0.030774088576436043,0.012307231314480305,-0.006314544007182121,-0.0457412451505661,-0.015907878056168556,-0.03942279890179634,-0.030546026304364204,0.029953977093100548,-0.013639906421303749,-0.00031368827330879867,-0.001426990726031363,-0.03768918290734291,-0.0076700542122125626,0.023404769599437714,0.034620076417922974,-0.0019307618495076895,0.00008487400918966159,0.019361170008778572,0.005017225164920092,-0.04723662883043289,-0.0010054548038169742,-0.028056787326931953,-0.012016406282782555,-0.01856786198914051,0.02795632928609848,0.0096567552536726,-0.004885723814368248,0.0013213885249570012,-0.031374115496873856,-0.009534966200590134,0.02234608121216297,-0.01369255781173706,-0.016027409583330154,-0.012310106307268143,-0.046552300453186035,0.013609525747597218,0.04617784917354584,-0.04981812462210655,0.005665067583322525,0.004926715511828661,-0.006579472217708826,0.0006615883321501315,-0.006265675183385611,0.0004895461606793106,0.006584716495126486,0.04967871680855751,0.005604577250778675,0.03065718524158001,-0.03781246766448021,-0.012185980565845966,-0.0020531369373202324,-0.0444822795689106,0.002423955826088786,0.018240900710225105,0.001254358096048236,0.0005502930143848062,0.003145738271996379,0.016537219285964966,0.009356568567454815,0.023867012932896614,-0.007489888928830624,-0.008541841059923172,-0.04203706979751587,0.005592765752226114,0.012950275093317032,-0.0011066705919802189,0.027103953063488007,-0.005175232421606779,0.015319043770432472,-0.02173556387424469,0.0060451882891356945,-0.030432192608714104,-0.009713118895888329,-0.006343806628137827,-0.04647807776927948,0.01680442877113819,-0.019318681210279465,-0.0049535962752997875,0.023339739069342613,-0.002419790718704462,0.026684651151299477,0.03790537267923355,-0.043413564562797546,0.01434764638543129,0.03556011989712715,0.008975605480372906,-0.010667434893548489,-0.045749783515930176,-0.024690676480531693,0.001475329976528883,0.029450150206685066,-0.037590958178043365,0.02139575220644474,-0.03800392895936966,-0.0017942459089681506,-0.009568055160343647,-0.013393997214734554,-0.00632445840165019,0.005877543240785599,0.013829761184751987,-0.03097572550177574,-0.029175247997045517,0.02518162503838539,0.03649812936782837,0.0036876851227134466,-0.001114160055294633,0.013023157604038715,0.03160678595304489,-0.008115709759294987,-0.004331051371991634,0.013774017803370953,0.027488302439451218,0.01441612746566534,-0.0038258149288594723,-0.025313787162303925,0.011446448042988777,0.027054909616708755,-0.006888255011290312,-0.0075020077638328075,0.018562771379947662,0.01050348486751318,-0.031018370762467384,-0.020040683448314667,-0.04772992804646492,0.027443749830126762,-0.036352794617414474,0.003906681202352047,0.005285491701215506,-0.01815023086965084,0.02060961164534092,0.02287815511226654,-0.04964115470647812,0.014630098827183247,0.006542659364640713,-0.0024542147293686867,0.04355723783373833,0.019829878583550453,0.02775762230157852,-0.047591280192136765,0.0016205766005441546,-0.017461998388171196,0.047779347747564316,-0.007951037958264351,0.028262970969080925,-0.01693831756711006,0.0017458844231441617,0.02901640720665455,0.0038952785544097424,-0.00509595638141036,-0.018561512231826782,0.04736759513616562,-0.031054247170686722,0.0006866381736472249,-0.038344282656908035,0.04977039620280266,0.038614701479673386,-0.007627546321600676,-0.0025459856260567904,0.022079532966017723,-0.03127967193722725,0.019414102658629417,-0.029940243810415268,-0.03398352861404419,0.03967268392443657,-0.00007867461681598797,-0.036956995725631714,0.008371544070541859,0.03909842297434807,0.0324520468711853,0.01607048697769642,-0.014909404329955578,0.007425892632454634,-0.026535963639616966,0.03789401426911354,0.00542453583329916,0.03340744972229004,0.01900176703929901,-0.004805619362741709,-0.039233360439538956,-0.0013902985956519842,0.0000995486116153188,-0.0490657202899456,-0.007959782145917416,0.03675263747572899,-0.04906144365668297,-0.004927852191030979,-0.004240947309881449,0.00629906402900815,-0.003981904126703739,-0.002234644489362836,-0.025279715657234192,-0.04247400537133217,-0.0008073660428635776,-0.021535798907279968,-0.0009323135018348694,0.0123249851167202,-0.03569185361266136,0.02989324927330017,0.009040998294949532,-0.04923126474022865,-0.013603266328573227,0.006044083274900913,-0.0018199385376647115,-0.011072339490056038,-0.007984761148691177,-0.03732696548104286,-0.009386359713971615,0.010638085193932056,0.006061759777367115,-0.0028231639880687,0.0074039786122739315,0.023754538968205452,-0.003167609916999936,0.00009342998964712024,-0.018007809296250343,-0.004561636596918106,-0.010702741332352161,0.01068926602602005,-0.014294830150902271,0.013562769629061222,0.029264288023114204,0.008396252058446407,-0.00747717497870326,0.025377780199050903,-0.018648922443389893,-0.0346529595553875,0.006106940563768148,0.0015331074828281999,0.03374982625246048,0.007202171254903078,0.028392747044563293,0.026963351294398308,0.026965953409671783,0.04905128851532936,0.013960178941488266,0.005143970716744661,-0.009193583391606808,0.030690334737300873,0.00010598760127322748,0.006063963286578655,0.03744282200932503,0.025644131004810333,0.012451189570128918,-0.008451426401734352,-0.013674492947757244,-0.023047737777233124,0.02570955641567707,-0.0030778965447098017,-0.01117672398686409,0.016850974410772324,0.000028738237233483233,-0.01084803231060505,-0.025183778256177902,0.00007855944568291306,0.0306412223726511,0.005707601550966501,0.022315161302685738,0.0032355873845517635,0.002613075776025653,-0.013909430243074894,-0.049643147736787796,0.04752856120467186,-0.033096518367528915,-2.912494210249861e-7,0.000004798600912181428,-0.019008757546544075,0.004381333943456411,-0.027670202776789665,-0.002058912068605423,0.022497180849313736,-0.04961857572197914,-0.004554682411253452,0.024228854104876518,-0.026957085356116295,-0.0002055905933957547,-0.039947062730789185,-0.01587522029876709,0.0012374635552987456,0.012936168350279331,-0.014189635403454304,-0.008304845541715622,0.010052886791527271,-0.030897244811058044,0.004812069237232208,0.0038060287479311228,-0.0168275348842144,0.018296033143997192,-0.00026507978327572346,-0.04092513769865036,0.010382186621427536,0.04010399058461189,0.03703553229570389,-0.02276630513370037,-0.014155805110931396,0.0407562330365181,0.0288222786039114,-0.0009945302736014128,-0.019774241372942924,-0.00101905083283782,0.03209337964653969,-0.017968690022826195,0.0019127317937090993,0.01267812680453062,0.010834437794983387,0.015482844784855843,-0.013659021817147732,0.01909026876091957,-0.006680584512650967,-0.00006379152182489634,0.018282020464539528,0.00036772413295693696,-0.03164959326386452,-0.005383211188018322,0.0364871583878994,-0.01103164255619049,-0.003116872627288103,-0.010442633181810379,0.023186903446912766,-0.0061151012778282166,-0.013696268200874329,0.02261090837419033,-0.012638582848012447,0.041204359382390976,-0.0076265414245426655,-0.005124747287482023,0.017706848680973053,0.011470329016447067,-0.001770448638126254,-0.01935744285583496,-0.0037516814190894365,-0.005193681921809912,0.00019808055367320776,0.020223233848810196,-0.03040473721921444,-0.045399826020002365,0.004362397361546755,-0.04781853407621384,-0.00017724628560245037,-0.0006008250056765974,0.033916618674993515,0.007218912243843079,0.013602487742900848,-0.03238801658153534,-0.021321460604667664,0.019643634557724,0.01009084191173315,0.021608583629131317,-0.03861977905035019,0.004985619802027941,0.002609933027997613,0.016428189352154732,-0.006336478050798178,0.035510797053575516,0.001037168432958424,0.040083106607198715,0.01709909178316593,0.012342979200184345,-0.03361567109823227,0.035400815308094025,0.012807819060981274,-0.04982103779911995,0.04356815293431282,0.014619044959545135,-0.020711425691843033,-0.0010671756463125348,-0.04225270077586174,-0.025167733430862427,-0.013181700371205807,-0.03634071350097656,0.03195320442318916,0.03510330617427826,-0.01518495287746191,0.005323296878486872,0.01582011766731739,-0.01091798860579729,-0.012930898927152157,-0.02926022931933403,-0.006510531064122915,-0.04292280599474907,-0.04342615231871605,-0.00846138596534729,0.03217824175953865,-0.04291316121816635,0.0421689935028553,-0.00198370055295527,-0.001256772899068892,-0.008630434982478619,0.001589380670338869,-0.021003421396017075,-0.03136686235666275,-0.030070213600993156,0.009780381806194782,0.009056135080754757,-0.047355927526950836,0.018100323155522346,-0.03551371023058891,0.007542949635535479,-0.016552068293094635,0.009655536152422428,-0.008387763053178787,0.0015551394317299128,-0.023488201200962067,-0.04560360684990883,-0.01873032934963703,0.03733532130718231,-0.0003259850782342255,0.00972517766058445,-0.01413661241531372,0.007089387159794569,0.04403639957308769,0.008568266406655312,0.0359601266682148,0.0058351969346404076,-0.0029054314363747835,0.024791400879621506,-0.043221332132816315,0.0014938667882233858,0.010503897443413734,0.022338587790727615,-0.021306520327925682,-0.033977385610342026,0.019312802702188492,-2.7139347480442666e-7,-0.004270812030881643,0.023655513301491737,-0.0474378727376461,0.04335175082087517,0.0023918645456433296,-0.048217590898275375,-0.0004056476172991097,0.03767228499054909,0.035712964832782745,0.0026673851534724236,-0.038833338767290115,-0.025009863078594208,-0.009814550168812275,0.02415221370756626,0.01899254508316517,0.034947678446769714,-0.0027531825471669436,0.017433691769838333,0.02871575951576233,-0.002924184547737241,-0.03831654042005539,-0.0016435413854196668,0.006557269487529993,-0.0030425225850194693,-0.003932839725166559,-0.0497991144657135,-0.03935924544930458,0.004798458889126778,-0.004314149729907513,-0.048131078481674194,0.039658401161432266,-0.0012348031159490347,0.0009387137833982706,0.015454660169780254,0.010533924214541912,-0.04641678184270859,0.001986957620829344,-0.01444491557776928,0.0006180412601679564,-0.038491152226924896,0.0006842249422334135,0.04164237156510353,-0.0021352767944335938,0.021613501012325287,0.04699499160051346,-0.014385554939508438,0.005671279970556498,0.0004849788674619049,-0.0006849236087873578,0.013180197216570377,-0.030006470158696175,0.022990332916378975,0.03280364349484444,-0.018498217687010765,-0.01504281722009182,0.0365191325545311,-0.006858996581286192,0.03218594938516617,0.008167935535311699,0.0016409407835453749,-0.006240237969905138,0.03274458274245262,-0.008737714029848576,0.031524136662483215,0.0016997153870761395,-0.0372789204120636,-0.04209401085972786,-0.02100030891597271,-0.017151884734630585,-0.0021109688095748425,-0.01341072004288435,-0.043607812374830246,-0.002236077096313238,-0.04529782012104988,-0.010588999837636948,0.02169695310294628,0.0072438474744558334,0.034722503274679184,-0.04490374028682709,-0.03516797721385956,-0.011772742494940758,0.04610230401158333,-0.019877927377820015,-0.041652120649814606,0.01876601204276085,0.015935350209474564,0.014675422571599483,0.018408510833978653,0.0017113439971581101,0.04638270288705826,0.04291580244898796,-0.003039022907614708,-0.001917078159749508,-0.0464601032435894,-0.02615915797650814,-0.0022190134041011333,-0.016974104568362236,-0.002010886324569583,0.02428279258310795,-0.019059328362345695,-0.04583907872438431,0.0013639448443427682,0.011338490061461926,-0.031586822122335434,0.04396548122167587,0.007305255625396967,-0.0018637481844052672,-0.011784411035478115,0.04750653728842735,0.007763481233268976,0.0011596804251894355,-0.00030532339587807655,-0.0377570278942585,0.010858400724828243,0.02520008385181427,0.0021551346872001886,-0.038023848086595535,0.004353043157607317,-0.016277996823191643,-0.0027795834466814995,-0.013922667130827904,0.04748747870326042,0.0005101119168102741,1.4585726404447996e-8,0.03544413670897484,0.003626713063567877,0.00721352593973279,-0.01678616739809513,-0.04216058924794197,0.005453530699014664,-0.0002601951127871871,0.006348493508994579,-0.02799605205655098,0.02872048318386078,0.000007962262316141278,-0.00511989276856184,0.01763247698545456,-0.03515192121267319,-0.011596819385886192]
       let G2: [-0.00618027789145708,0.03545743227005005,0.03909038007259369,-0.03518764302134514,-0.005136906169354916,-0.010772079229354858,-0.011978778056800365,0.010008348152041435,0.013407117687165737,0.023260295391082764,-0.016139183193445206,0.015409419313073158,-0.04404811933636665,-0.01780664548277855,0.04618482664227486,0.028807472437620163,0.03982387110590935,-0.014347352087497711,0.04690628871321678,-0.020365068688988686,-0.03463386371731758,0.008418497629463673,0.030879585072398186,-0.014598054811358452,0.03303685411810875,-0.026569178327918053,-0.002411568770185113,0.028011184185743332,-0.046648792922496796,0.04224072024226189,-0.03558511286973953,0.023622268810868263,-0.02267717756330967,0.04733818396925926,-0.018348367884755135,0.0365818552672863,-0.03706859052181244,0.02348882518708706,0.024212615564465523,-0.032071325927972794,-0.034886520355939865,-0.03891965001821518,0.035121262073516846,0.009577987715601921,-0.0033165013883262873,0.021189512684941292,-0.04149662330746651,-0.04792013391852379,-0.04205607250332832,-0.02116415835916996,0.02726500667631626,0.014473979361355305,0.010495123453438282,-0.03707458823919296,0.00047597941011190414,0.04358581826090813,-0.0036011566407978535,-0.0066973548382520676,0.01579999551177025,0.030774088576436043,0.012307231314480305,-0.006314544007182121,-0.0457412451505661,-0.015907878056168556,-0.03942279890179634,-0.030546026304364204,0.029953977093100548,-0.013639906421303749,-0.026383083313703537,-0.001426990726031363,-0.03768918290734291,-0.0076700542122125626,0.023404769599437714,0.034620076417922974,0.04373433068394661,-0.017333805561065674,0.026083964854478836,0.005017225164920092,-0.04723662883043289,-0.0011745570227503777,-0.028056787326931953,-0.012016406282782555,-0.01856786198914051,0.02795632928609848,0.036532267928123474,-0.005315649788826704,-0.02872750349342823,-0.031374115496873856,-0.03527829796075821,0.02234608121216297,-0.022285684943199158,-0.02560475654900074,0.012902358546853065,-0.046552300453186035,-0.0238272063434124,0.04617784917354584,-0.04981812462210655,0.033393122255802155,0.004926715511828661,-0.03719174861907959,0.0006615883321501315,0.04495357722043991,-0.0007368910009972751,0.006584716495126486,0.04967871680855751,-0.044501930475234985,-0.03905061259865761,-0.03781246766448021,-0.012950857169926167,-0.00712243840098381,-0.0444822795689106,0.011646282859146595,0.018240900710225105,0.001254358096048236,-0.02129616029560566,0.015558947809040546,-0.02479539066553116,0.019926410168409348,0.023867012932896614,0.012298040091991425,0.014179090037941933,-0.04203706979751587,-0.008279919624328613,0.012950275093317032,-0.01589319482445717,0.027103953063488007,-0.00798863172531128,-0.033077556639909744,-0.02173556387424469,-0.01564977504312992,-0.030432192608714104,-0.009713118895888329,-0.023063911125063896,-0.04647807776927948,0.04535745084285736,0.040929533541202545,-0.0049535962752997875,-0.0378081277012825,-0.03503420948982239,0.026684651151299477,-0.04095349833369255,0.0436859093606472,0.01434764638543129,0.03556011989712715,0.008975605480372906,0.021661102771759033,-0.045749783515930176,-0.024690676480531693,0.007084478624165058,0.041242606937885284,-0.037590958178043365,0.023483484983444214,-0.04603346437215805,0.016000576317310333,0.04649140313267708,-0.013393997214734554,-0.03759259730577469,-0.015538342297077179,0.013829761184751987,-0.03097572550177574,-0.029175247997045517,0.047266922891139984,0.03649812936782837,-0.0040658507496118546,0.0014122972497716546,0.013023157604038715,0.0473252534866333,-0.008115709759294987,-0.004331051371991634,0.013774017803370953,-0.03346378728747368,0.026086201891303062,-0.0046617137268185616,-0.025313787162303925,0.011446448042988777,0.027054909616708755,-0.026800526306033134,-0.009176638908684254,0.03194053843617439,0.01050348486751318,-0.031018370762467384,0.030352143570780754,-0.04772992804646492,0.027443749830126762,-0.036352794617414474,0.003906681202352047,0.005285491701215506,-0.01815023086965084,0.025861477479338646,0.02287815511226654,-0.04964115470647812,0.014630098827183247,0.006542659364640713,-0.0024542147293686867,0.04355723783373833,0.019829878583550453,0.02775762230157852,-0.047591280192136765,-0.018127964809536934,-0.017461998388171196,0.047779347747564316,0.009666734375059605,0.028262970969080925,-0.019779575988650322,0.006225895136594772,-0.030048860237002373,0.0038952785544097424,-0.00993277970701456,-0.018561512231826782,0.04736759513616562,-0.039685994386672974,0.0006866381736472249,-0.038344282656908035,0.04977039620280266,0.038614701479673386,-0.009730761870741844,0.01630932278931141,0.022079532966017723,-0.03127967193722725,-0.041327960789203644,-0.029940243810415268,-0.03398352861404419,0.03967268392443657,0.006441580131649971,-0.036956995725631714,0.016686715185642242,0.03909842297434807,0.0324520468711853,0.01607048697769642,-0.014909404329955578,0.007425892632454634,-0.026535963639616966,0.03789401426911354,0.0223337784409523,0.03340744972229004,0.01900176703929901,-0.004805619362741709,-0.04719436541199684,0.03643151372671127,-0.042662568390369415,-0.0490657202899456,-0.023042481392621994,0.03675263747572899,-0.04906144365668297,0.019144993275403976,-0.006520483177155256,0.00629906402900815,-0.003981904126703739,-0.002234644489362836,-0.025279715657234192,-0.04247400537133217,-0.0008073660428635776,-0.021535798907279968,-0.03994767740368843,0.031091177836060524,-0.03569185361266136,0.02989324927330017,0.009040998294949532,-0.04923126474022865,0.021965250372886658,0.006044083274900913,0.003618792165070772,-0.03091687336564064,-0.007984761148691177,-0.03732696548104286,-0.048757608979940414,-0.020570414140820503,0.006061759777367115,-0.0028231639880687,-0.022503210231661797,0.023754538968205452,-0.043853096663951874,0.0013464083895087242,-0.04655865952372551,-0.004561636596918106,-0.010702741332352161,0.01068926602602005,0.019707653671503067,0.013562769629061222,0.029264288023114204,-0.042400337755680084,-0.00747717497870326,0.025377780199050903,0.04176035523414612,-0.0346529595553875,-0.04573662206530571,0.0015331074828281999,0.03374982625246048,-0.015023935586214066,0.028392747044563293,-0.030556347221136093,0.026965953409671783,0.04905128851532936,-0.017152680084109306,-0.00768253905698657,-0.009193583391606808,0.030690334737300873,0.0010013451101258397,-0.04800038784742355,0.03744282200932503,-0.044881440699100494,-0.032177187502384186,-0.009658889845013618,-0.02744450606405735,-0.029354523867368698,0.02570955641567707,0.004128253553062677,0.02414984628558159,-0.01683984510600567,0.01992444321513176,-0.01084803231060505,-0.025183778256177902,0.020010389387607574,0.03237663209438324,0.01662464626133442,0.048019349575042725,0.0032355873845517635,0.017117761075496674,-0.013909430243074894,-0.049643147736787796,0.04752856120467186,-0.033096518367528915,-0.021183624863624573,-0.001740902429446578,-0.019008757546544075,-0.011312456801533699,-0.041743673384189606,-0.008547226898372173,0.022497180849313736,-0.04961857572197914,-0.029714953154325485,0.024228854104876518,-0.026957085356116295,0.030290091410279274,-0.039947062730789185,-0.01587522029876709,-0.005150435026735067,0.01702936366200447,-0.01600390486419201,0.032956380397081375,0.027598388493061066,-0.030897244811058044,0.004812069237232208,0.0038060287479311228,0.023787859827280045,0.018296033143997192,-0.016879258677363396,-0.04092513769865036,-0.021950429305434227,0.04010399058461189,0.03703553229570389,-0.03213987872004509,-0.014155805110931396,-0.04402735084295273,0.0288222786039114,-0.0009945302736014128,-0.019774241372942924,-0.028939319774508476,0.03209337964653969,0.028124239295721054,0.0019127317937090993,0.01267812680453062,0.010834437794983387,0.015482844784855843,-0.013659021817147732,0.01909026876091957,0.03397025540471077,0.008388289250433445,0.04882420226931572,-0.016932159662246704,-0.03164959326386452,-0.005383211188018322,0.0364871583878994,-0.01103164255619049,-0.003116872627288103,0.014171285554766655,0.023186903446912766,-0.0061151012778282166,0.024988938122987747,-0.04946126043796539,0.013090436346828938,0.041204359382390976,0.008374041877686977,0.012798463925719261,0.020387766882777214,-0.04474177211523056,-0.011517779901623726,-0.01935744285583496,-0.008876604028046131,-0.005193681921809912,0.00901504885405302,0.034750670194625854,-0.03040473721921444,-0.045399826020002365,0.004362397361546755,-0.04781853407621384,-0.0003687515272758901,-0.0009534959099255502,0.033916618674993515,0.007218912243843079,0.013602487742900848,-0.03238801658153534,-0.021321460604667664,0.019643634557724,0.01009084191173315,0.021608583629131317,-0.03861977905035019,0.004985619802027941,0.002609933027997613,-0.04337555170059204,-0.020110270008444786,0.035510797053575516,0.001037168432958424,0.040083106607198715,0.01709909178316593,0.02919619530439377,-0.03361567109823227,0.035400815308094025,-0.020556824281811714,-0.04982103779911995,0.04356815293431282,0.014619044959545135,-0.020711425691843033,-0.03346889466047287,-0.04225270077586174,-0.025167733430862427,-0.013181700371205807,-0.03634071350097656,0.03195320442318916,-0.049048587679862976,-0.01518495287746191,0.007845751009881496,-0.031168101355433464,-0.01091798860579729,0.02290831133723259,-0.02926022931933403,-0.007066512946039438,-0.04292280599474907,-0.04781890660524368,-0.00846138596534729,0.03217824175953865,-0.04291316121816635,0.0421689935028553,-0.00198370055295527,0.027867408469319344,-0.021287977695465088,-0.008281353861093521,-0.021003421396017075,-0.03136686235666275,-0.030070213600993156,0.018426736816763878,0.03171945735812187,-0.047355927526950836,-0.034922242164611816,-0.03551371023058891,-0.014403758570551872,0.03480205312371254,0.009655536152422428,-0.008387763053178787,0.0017396638868376613,-0.023488201200962067,-0.04560360684990883,0.028471101075410843,0.03733532130718231,-0.002114267786964774,0.03526505082845688,-0.01413661241531372,-0.040934525430202484,0.04403639957308769,0.03167225047945976,0.0359601266682148,0.024099869653582573,-0.03550901263952255,0.04089619591832161,-0.043221332132816315,0.0014938667882233858,0.010503897443413734,0.022338587790727615,0.02331714518368244,-0.033977385610342026,0.019312802702188492,-0.000014686134818475693,-0.004270812030881643,0.023655513301491737,-0.0474378727376461,0.04335175082087517,0.009601738303899765,-0.048217590898275375,-0.006839251611381769,0.03767228499054909,0.041081752628088,0.005400568246841431,-0.038833338767290115,-0.025009863078594208,-0.010250004939734936,0.02415221370756626,0.01899254508316517,0.034947678446769714,-0.0027531825471669436,0.017433691769838333,0.02871575951576233,0.006003785878419876,-0.03831654042005539,0.002704308135434985,-0.03146366775035858,-0.04370923712849617,-0.003932839725166559,-0.0497991144657135,0.04272807389497757,-0.03231533244252205,-0.02346491813659668,-0.048131078481674194,0.039658401161432266,-0.013627498410642147,0.014666343107819557,0.015454660169780254,0.010533924214541912,-0.04641678184270859,0.009271039627492428,-0.02116665616631508,0.0025150012224912643,-0.038491152226924896,-0.0031670823227614164,0.04164237156510353,-0.0021352767944335938,0.021613501012325287,0.04699499160051346,-0.026193929836153984,-0.013672173954546452,-0.035662878304719925,0.012871543876826763,0.013180197216570377,-0.030006470158696175,0.022990332916378975,-0.046629101037979126,-0.018498217687010765,-0.01504281722009182,0.0365191325545311,-0.006858996581286192,0.03218594938516617,-0.015720773488283157,0.0016409407835453749,0.0400303415954113,0.03274458274245262,-0.008737714029848576,0.03280487284064293,-0.004780042450875044,-0.0372789204120636,-0.04209401085972786,-0.02100030891597271,-0.017151884734630585,-0.010710509493947029,-0.01781795360147953,-0.043607812374830246,-0.002236077096313238,-0.04529782012104988,-0.010588999837636948,0.02169695310294628,-0.025339724496006966,-0.04394238814711571,-0.04490374028682709,-0.03516797721385956,-0.04732315614819527,0.04610230401158333,-0.019877927377820015,-0.041652120649814606,0.01876601204276085,0.015935350209474564,0.014675422571599483,0.020057544112205505,0.006909232586622238,0.04638270288705826,0.04291580244898796,0.005247144959867001,0.003384875599294901,-0.0464601032435894,-0.02615915797650814,-0.0025250467006117105,-0.016974104568362236,-0.019245458766818047,-0.02621554583311081,-0.019059328362345695,-0.04583907872438431,-0.01202588900923729,0.029856592416763306,0.03209502995014191,0.04396548122167587,-0.03433399274945259,-0.004720315337181091,-0.011784411035478115,0.04750653728842735,0.007763481233268976,-0.010114427655935287,-0.006207649130374193,-0.0377570278942585,0.03361699730157852,-0.04143315181136131,0.0021551346872001886,-0.038023848086595535,-0.01450665295124054,-0.016277996823191643,0.02386416494846344,-0.013922667130827904,0.04748747870326042,-0.008870349265635014,0.009040829725563526,0.03544413670897484,0.003626713063567877,0.025669608265161514,-0.032998405396938324,-0.04216058924794197,-0.014682549983263016,-0.0024198885075747967,-0.015338209457695484,-0.02799605205655098,0.03898819535970688,-0.04287970811128616,-0.006652548909187317,0.0336521677672863,-0.03515192121267319,0.024367161095142365]

        await this.genetic.createFirstGeneration(G1,G2);
        this.generations = 500;


    }

    async gamePlay(generations: number) {
        do {


            console.log(`\n ################# Generation ${++this.generations} ##################`)
            for (let round = 0; round < 2; round++) {
                var players = [];
                for (let i = 0; i < this.genetic.peoples.length; i++) {
                    if (this.genetic.peoples[i].isWinner) players.push(this.genetic.peoples[i]);

                    if (players.length == 2) {
                        await this.contest([players[0], players[1]]);
                        this.ticTacToe.printBoard();
                        var players = [];
                    }

                }
            }

            console.log(`\n ########### Results ###################`)
            let winners = [];
            for (let i = 0; i < this.genetic.peoples.length; i++) {
                if (this.genetic.peoples[i].isWinner) {

                    winners.push(i);
                }

            }

            await this.genetic.setWinners(winners[0], winners[1]);

            this.genetic.peoples.forEach(people => {
                console.log(`${people.name} Qtde: ${people.qtdeChampion}`)
            })

            await this.genetic.createNextGenerations();

            if (this.generations % 50 == 0) {
                console.log('Genomas Winners:')

                console.log(`G1: ${this.genetic.genomaWinner1}`)
                console.log(`G2: ${this.genetic.genomaWinner2}`)

            }



        } while (this.generations < generations);
    }

    async contest(players: People[]) {
        this.ticTacToe = new TicTacToe;
        players = _.shuffle(players);
        players[0].nickname = Player.X;
        players[1].nickname = Player.O;
        players[0].isWinner = false;
        players[1].isWinner = false;

        console.log(`\n---- ${players[0].name} VS ${players[1].name} -------`)

        for (let i = 0; i < 9; i++) {
            let move = await players[i % 2].predict(this.ticTacToe.getBoard());
            let status = await this.ticTacToe.play(move, players[i % 2].nickname);

            if (status.status == StatusGame.win)
                console.log(players[i % 2].name + ' Play:' + status.move + ' [' + players[i % 2].nickname + '] ==> ' + status.status);

            if (status.status == StatusGame.loss) {
                players[i % 2].isWinner = false;
                players[(i + 1) % 2].isWinner = true;
                break;
            }
            if (status.status == StatusGame.win) {
                players[i % 2].isWinner = true;
                players[(i + 1) % 2].isWinner = false;
                break;
            }

            if (i == 8) {
                console.log('Game Draw')
                if (players[0].qtdeChampion >= players[1].qtdeChampion) {
                    players[0].isWinner = true;
                    players[1].isWinner = false;
                }
                else {
                    players[0].isWinner = false;
                    players[1].isWinner = true;
                }
            }

        }
        //this.ticTacToe.printBoard();


    }
}

async function main() {
    let ev = new Evolution();
    await ev.initialize();
    await ev.gamePlay(1000);

}

main();

